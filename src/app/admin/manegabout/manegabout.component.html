
<!-- <app-sidebar></app-sidebar> -->
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="text-primary">About Information</h3>
        <button class="btn btn-success shadow-sm fw-bold d-flex align-items-center px-3" (click)="createNew()">
            <i class="ti ti-plus me-2"></i> Create New
        </button>
    </div>

    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white text-center">
            <h3>About Information</h3>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-striped table-hover text-center">
                    <thead class="table-dark">
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Content</th>
                            <th>Image</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let about of about.about">
                            <td>{{ about.id }}</td>
                            <td>{{ about.title1 }}</td>
                            <td>{{ about.content }}</td>
                            <td> <img src="../../../assets/images/{{about.img1path}}" width="100px" style="border-radius: 20px;" /></td>   
                        
                            
                            <td>
                                <button class="btn btn-sm btn-primary me-2" (click)="openUpdateDialog(about)">
                                    <i class="ti ti-pencil"></i> Update
                                </button>
                                <button mat-button (click)="openDialog(about.id)" class="btn btn-sm btn-danger">
                                    <i class="ti ti-trash"></i> Delete
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<ng-template #callDelDialog>
    <div mat-dialog-content>Are You Sure To Delete This Item!!</div>
    <div mat-dialog-actions>
        <button mat-button mat-dialog-close="yes">OK</button>
        <button mat-button mat-dialog-close="no">Cancel</button>
    </div>
</ng-template>


<ng-template #callUpdateDialog>

    <form class="about-form" [formGroup]="updateForm">
        <h2>Update  About Form</h2>
        
        <div class="form-group">
          <label for="title">Title:</label>
          <input type="text" id="title" name="title" class="form-control" formControlName="title1" [(ngModel)]="pData.title1">
        
        </div>
        
        <div class="form-group">
            <label for="img">upload image:</label>
            <input type="file" #file name="img" (change)="uploadImage(file.files)" class="form-control">
            <small *ngIf="pData.img1path" class="text-muted d-block mt-2">
              <img [src]="'../../../assets/images/' + pData.img1path" width="100" class="ms-2 rounded">
            </small>
          </div>
        
        <div class="form-group">
          <label for="content">Content:</label>
          <textarea id="content" name="content" class="form-control" formControlName="content"[(ngModel)]="pData.content"></textarea>
         
        </div>
        
        <div class="d-flex gap-2 mt-3">
          <button class="btn btn-primary" [disabled]="updateForm.invalid" (click)="Update()">Update</button>
          <button type="button" class="btn btn-outline-danger" >Cancel</button>
        </div>
    </form>
  
  
 
</ng-template>
